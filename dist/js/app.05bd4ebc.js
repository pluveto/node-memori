(function(t){function e(e){for(var n,o,c=e[0],l=e[1],r=e[2],d=0,p=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(p.length)p.shift()();return s.push.apply(s,r||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(n=!1)}n&&(s.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},i={app:0},s=[];function o(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2d0e8872":"874f45dd"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a=i[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise((function(e,n){a=i[t]=[e,n]}));e.push(a[2]=n);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(t);var r=new Error;s=function(e){l.onerror=l.onload=null,clearTimeout(d);var a=i[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;r.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",r.name="ChunkLoadError",r.type=n,r.request=s,a[1](r)}i[t]=void 0}};var d=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="http://www.pluvet.com/study/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var u=r;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";var n=a("64a9"),i=a.n(n);i.a},1:function(t,e){},"16ba":function(t,e,a){},"181b":function(t,e,a){"use strict";var n=a("d498"),i=a.n(n);i.a},2:function(t,e){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("f751"),a("097d");var n,i=a("2b0e"),s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticStyle:{padding:"8px",height:"100%"},attrs:{id:"app"}},[a("router-view")],1)},o=[],c={watch:{$route:function(t,e){console.log("from: "+e.path+" to: "+t.path)}}},l=c,r=(a("034f"),a("2877")),d=Object(r["a"])(l,s,o,!1,null,null,null),u=d.exports,p=a("289d"),m=(a("5abe"),a("7f10"),a("41e6"),a("693e"),a("8c4f")),v=a("2f62"),f=a("bc3a"),h=a.n(f),g=a("b383"),C=a.n(g),b="http://10.122.235.192:1323",_={collections:b+"/collections",cards:b+"/cards",displacements:b+"/displacements",conjugation:b+"/conjugate/fr",status:b+"/status",alive:b+"/alive",etymology:b+"/etymology/en",dict:b+"/dict"},y={clockInImageUrl:_.status+"/clock_in/image",getEtymology:function(t,e){h.a.get(_.etymology+"/"+t).then((function(t){console.log(t),e(t.data)}))},randomlyActivate:function(t,e){h.a.get(_.collections+"/"+t+"/random_activate?count=10").then((function(t){return e(t.data)}))},getFrenchConjungation:function(t,e){h.a.get(_.conjugation+"/"+t).then((function(t){e(t.data),console.log(t.data)}))},getCollections:function(t){h.a.get(_.collections).then((function(e){t(e.data)}))},getCollection:function(t,e){h.a.get(_.collections+"/"+t).then((function(t){e(t.data)}))},addCollection:function(t,e){var a=new FormData;a.set("name",t),h.a.post(_.collections,a).then(e())},removeCollection:function(t){h.a.delete(_.collections+"/"+t).then((function(){}))},addCard:function(t,e,a){var n=new FormData;n.set("collection_id",t),n.set("pos",e.pos),n.set("spell",e.spell),n.set("translation",e.translation),n.set("addition",e.addition),h.a.post(_.cards,n).then((function(t){return a(t.data)}))},getCards:function(t,e,a,n){var i={collection_id:t,page:e,pagesize:a};h.a.get(_.cards+"?"+C.a.stringify(i)).then((function(t){return n(t.data)}))},getCardsByActivation:function(t,e,a,n,i){var s={collection_id:t,page:e,pagesize:a,is_activated:n};h.a.get(_.cards+"?"+C.a.stringify(s)).then((function(t){return i(t.data)}))},setCardActivation:function(t,e,a){var n=new FormData;n.set("is_activated",e),h.a.put(_.cards+"/"+t+"/activate",n).then((function(){"function"===typeof a&&a()}))},getCard:function(t,e){h.a.get(_.cards+"/"+t).then((function(t){return e(t.data)}))},removeCard:function(t){var e=_.cards+"/"+t;h.a.delete(e).then((function(){})),console.log("删除卡片: "+e)},updateCard:function(t,e){var a=new FormData;a.set("collection_id",t.collection_id),a.set("pos",t.pos),a.set("spell",t.spell),a.set("translation",t.translation),a.set("addition",t.addition),h.a.put(_.cards+"/"+t.id,a).then((function(t){return e(t)}))},syncCard:function(t,e){var a=new FormData;a.set("mastery",t.mastery),a.set("active_at",Math.ceil(+new Date/1e3)),a.set("addition",t.addition),h.a.put(_.cards+"/"+t.id+"/sync",a).then((function(){return e()}))},addDisplacements:function(t,e,a){console.log("addDisplacements",e.displacements);var n=e.displacements[0],i=new FormData;i.set("collection_id",t),i.set("hint",e.hint),i.set("translation",e.translation),i.set("pos",n.pos),i.set("aux",n.aux),i.set("answer",n.answer),i.set("addition",n.addition),console.log("准备post"),a(),h.a.post(_.displacements,i).then((function(a){console.log(a);for(var n=1;n<e.displacements.length;n++){var i=e.displacements[n],s=new FormData;s.set("collection_id",t),s.set("hint_id",a.data.hint_id),s.set("pos",i.pos),s.set("aux",i.aux),s.set("answer",i.answer),s.set("addition",i.addition),h.a.post(_.displacements,s).then((function(){return console.log("Displacement: "+i.answer+"added")}))}}))},getDisplacements:function(t,e){h.a.get(_.displacements+"/"+t).then((function(t){return e(t.data)}))},updateDisplacements:function(t,e,a){var n=new FormData;n.set("hint",e.hint),n.set("translation",e.translation),h.a.put(_.displacements+"/"+t,n);for(var i=0;i<e.displacements.length;i++){var s=e.displacements[i];n=new FormData;n.set("pos",s.pos),n.set("aux",s.aux),n.set("answer",s.answer),n.set("addition",s.addition),void 0==s.id?(n.set("collection_id",e.collection_id),n.set("hint_id",e.id),h.a.post(_.displacements,n).then((function(){return console.log("Displacement: "+s.answer+" added")}))):h.a.put(_.displacements+"/item/"+s.id,n)}a()},removeDisplacementItem:function(t,e){h.a.delete(_.displacements+"/item/"+t)},removeDisplacementRel:function(t,e){h.a.delete(_.displacements+"/"+t)},getDisplacementRels:function(t,e,a,n){var i={collection_id:t,page:e,pagesize:a};h.a.get(_.displacements+"?"+C.a.stringify(i)).then((function(t){return n(t.data)}))},getCardsToLearn:function(t,e,a){var n={collection_id:t,count:e};h.a.get(_.collections+"/"+t+"/learn?"+C.a.stringify(n)).then((function(t){return a(t.data)}))},getStatusToday:function(t){h.a.get(_.status+"/today").then((function(e){t(e.data),console.log("status ",e.data)}))},heartBeat:function(t,e){var a=new FormData;a.set("collection_id",t),a.set("card_id",e),a.set("time_increase",5),h.a.post(_.alive,a).then((function(t){return console.log(t)}))},clockIn:function(t){h.a.get(_.status+"/clock_in").then((function(){t()}))},queryWord:function(t,e,a){h.a.get(_.dict+"/"+e+"/"+t.toLowerCase()).then((function(t){ret={pos:pos}}))}},w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("br"),a("h3",{staticClass:"title is-3"},[t._v(t._s(t.collection.name))]),a("div",{staticClass:"control"},[a("router-link",{staticClass:"button is-primary",attrs:{to:"/collections/"+t.collection.id+"/learn"}},[t._v("临时学习此卡组")])],1),a("br"),a("div",{staticClass:"control",staticStyle:{float:"right"}},[a("b-button",{on:{click:function(e){return t.randomlyActivate()}}},[t._v("随机激活十张卡片")]),a("router-link",{staticClass:"button is-primary is-small",staticStyle:{"border-radius":"0"},attrs:{to:"/collections/"+t.collection.id+"/add"}},[t._v("添加卡片")]),a("a",{staticClass:"button is-danger is-small",staticStyle:{"border-radius":"0"},on:{click:function(e){return t.deleteThis()}}},[t._v("删除此集合")])],1),a("h4",{staticClass:"title is-4"},[t._v("普通卡片")]),a("b-pagination",{attrs:{total:t.pagination.total,current:t.pagination.current,"range-before":"3","range-after":"1",order:"is-right",size:"is-small","icon-pack":"fa",simple:!0,rounded:!0,"per-page":t.pagination.pagesize,"icon-prev":"chevron-left","icon-next":"chevron-right","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:current":function(e){return t.$set(t.pagination,"current",e)}}}),a("table",{staticClass:"table",staticStyle:{width:"100%"}},[t._m(0),t._l(t.cards,(function(e){return a("tr",{key:e.id,attrs:{data:e}},[a("td",[a("b-checkbox",{attrs:{value:e.is_activated,"true-value":1,"false-value":0},on:{input:function(a){t.updateActivate(a,e.id)}},model:{value:e.is_activated,callback:function(a){t.$set(e,"is_activated",a)},expression:"card.is_activated"}})],1),a("td",[t._v(t._s(e.spell))]),a("td",[t._v(t._s("("+e.pos+") "+e.translation))]),a("td",[t._v(t._s(e.mastery))]),a("td",[a("router-link",{staticClass:"button is-info is-small",staticStyle:{"border-radius":"0"},attrs:{to:"/cards/"+e.id+"/edit"},on:{click:function(a){return t.removeCard(e.id)}}},[t._v("E")]),a("a",{staticClass:"button is-danger is-small",staticStyle:{"border-radius":"0"},on:{click:function(a){return t.removeCard(e.id)}}},[t._v("D")])],1)])}))],2),a("div",{staticClass:"center"},[null==t.cards||0==t.cards.length?a("p",[t._v("集合里没有任何卡片.")]):t._e()]),a("h4",{staticClass:"title is-4"},[t._v("未激活的卡片")]),a("table",{staticClass:"table",staticStyle:{width:"100%"}},[t._m(1),t._l(t.cardsInactivated,(function(e){return a("tr",{key:e.id,attrs:{data:e}},[a("td",[a("b-checkbox",{attrs:{value:e.is_activated,"true-value":1,"false-value":0},on:{input:function(a){t.updateActivate(a,e.id)}},model:{value:e.is_activated,callback:function(a){t.$set(e,"is_activated",a)},expression:"card.is_activated"}})],1),a("td",[t._v(t._s(e.spell))]),a("td",[t._v(t._s("("+e.pos+") "+e.translation))]),a("td",[t._v(t._s(e.mastery))]),a("td",[a("router-link",{staticClass:"button is-info is-small",staticStyle:{"border-radius":"0"},attrs:{to:"/cards/"+e.id+"/edit"},on:{click:function(a){return t.removeCard(e.id)}}},[t._v("E")]),a("a",{staticClass:"button is-danger is-small",staticStyle:{"border-radius":"0"},on:{click:function(a){return t.removeCard(e.id)}}},[t._v("D")])],1)])}))],2),a("div",{staticClass:"center"},[null==t.cards||0==t.cards.length?a("p",[t._v("集合里没有任何卡片.")]):t._e()]),a("section",[a("hr"),a("b-pagination",{attrs:{total:t.paginationForInactivated.total,current:t.paginationForInactivated.current,"range-before":"3","range-after":"1",order:"is-right",size:"is-small","icon-pack":"fa",simple:!0,rounded:!0,"per-page":t.paginationForInactivated.pagesize,"icon-prev":"chevron-left","icon-next":"chevron-right","aria-next-label":"Next page","aria-previous-label":"Previous page","aria-page-label":"Page","aria-current-label":"Current page"},on:{"update:current":function(e){return t.$set(t.paginationForInactivated,"current",e)}}})],1),a("br"),a("div",{staticClass:"control",staticStyle:{float:"right"}},[a("router-link",{staticClass:"button is-primary is-small",staticStyle:{"border-radius":"0"},attrs:{to:"/collections/"+t.collection.id+"/displacements/add"}},[t._v("添加变位卡片")])],1),a("h4",{staticClass:"title is-4"},[t._v("变位卡片")]),a("table",{staticClass:"table",staticStyle:{width:"100%"}},[t._m(2),t._l(t.displacements,(function(e){return a("tr",{key:e.id,attrs:{data:e}},[a("td",[t._v(t._s(e.hint))]),a("td",[t._v(t._s(e.translation))]),a("td",[a("router-link",{staticClass:"button is-info is-small",staticStyle:{"border-radius":"0"},attrs:{to:"/displacements/"+e.id+"/edit"}},[t._v("E")]),a("a",{staticClass:"button is-danger is-small",staticStyle:{"border-radius":"0"},on:{click:function(a){return t.removeDisplacement(e.id)}}},[t._v("D")])],1)])}))],2),a("div",{staticClass:"center"},[null==t.displacements||0==t.displacements.length?a("p",[t._v("集合里没有任何卡片.")]):t._e()])],1)},x=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticStyle:{width:"20px"}},[t._v("状态")]),a("th",{staticStyle:{width:"200px"}},[t._v("拼写")]),a("th",[t._v("释义")]),a("th",{staticStyle:{width:"100px"}},[t._v("熟练度")]),a("th",{staticStyle:{width:"100px"}},[t._v("操作")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticStyle:{width:"20px"}},[t._v("状态")]),a("th",{staticStyle:{width:"200px"}},[t._v("拼写")]),a("th",[t._v("释义")]),a("th",{staticStyle:{width:"100px"}},[t._v("熟练度")]),a("th",{staticStyle:{width:"100px"}},[t._v("操作")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("tr",[a("th",{staticStyle:{width:"200px"}},[t._v("原型 / 提示词")]),a("th",[t._v("释义")]),a("th",{staticStyle:{width:"100px"}},[t._v("操作")])])}],k=(a("7514"),{data:function(){return{collection:{},cards:[],cardsInactivated:[],displacements:[],pagination:{current:1,total:200,pagesize:10},paginationForInactivated:{current:1,total:200,pagesize:10},paginationForDisplacements:{current:1,total:200,pagesize:10}}},created:function(){var t=this;y.getCollection(this.$route.params.id,(function(e){t.collection=e})),this.refetchCards(),this.refetchCardsInactivated(),this.refetchDisplacementRels()},methods:{refetchCards:function(){var t=this;y.getCards(this.$route.params.id,this.pagination.current,this.pagination.pagesize,(function(e){console.log("cards got: ",e),t.cards=e.data,t.pagination.total=e.total}))},randomlyActivate:function(){var t=this;y.randomlyActivate(this.$route.params.id,(function(e){t.$buefy.toast.open("随机激活了十张卡片！"),console.log(e)}))},refetchCardsInactivated:function(){var t=this;y.getCardsByActivation(this.$route.params.id,this.paginationForInactivated.current,this.paginationForInactivated.pagesize,0,(function(e){console.log("cards got: ",e),t.cardsInactivated=e.data,t.paginationForInactivated.total=e.total}))},refetchDisplacementRels:function(){var t=this;y.getDisplacementRels(this.$route.params.id,this.paginationForDisplacements.current,this.paginationForDisplacements.pagesize,(function(e){console.log("disps got: ",e),t.displacements=e.data,t.paginationForDisplacements.total=e.total}))},deleteThis:function(){var t=this,e=this;this.$buefy.dialog.confirm({title:"删除集合",message:"你真的要删除这个卡片集合吗？无法反悔。",confirmText:"删掉",cancelText:"别！",type:"is-danger",hasIcon:!0,onConfirm:function(a){y.removeCollection(e.collection.id),t.$buefy.toast.open("删除了卡册"),e.$root.$store.commit("updateCollections",(function(){e.$router.push("/"),console.log("back")}))}})},removeCard:function(t){var e=this,a=this;this.$buefy.dialog.confirm({title:"删除卡片",message:"你真的要删除吗",confirmText:"删掉",cancelText:"别！",type:"is-danger",hasIcon:!0,onConfirm:function(n){y.removeCard(t),a.cards=a.cards.filter((function(e){return e.id!=t})),e.$buefy.toast.open("删除了一张卡片"),e.pagination.total--}})},removeDisplacement:function(t){var e=this,a=this;this.$buefy.dialog.confirm({title:"删除一套变位卡片",message:"你真的要删除吗，其下的所有变位都将被删除",confirmText:"删掉",cancelText:"别！",type:"is-danger",hasIcon:!0,onConfirm:function(n){y.removeDisplacementRel(t),a.displacements=a.displacements.filter((function(e){return e.id!=t})),e.$buefy.toast.open("删了，真的。"),e.paginationForDisplacements.total--}})},updateActivate:function(t,e){console.log("update active",e),this.cards&&void 0!=this.cards.find((function(t){return t.id==e}))&&(this.cards.find((function(t){return t.id==e})).is_activated=t),this.cardsInactivated&&void 0!=this.cardsInactivated.find((function(t){return t.id==e}))&&(this.cardsInactivated.find((function(t){return t.id==e})).is_activated=t),y.setCardActivation(e,t),console.log(t," ",e)}},watch:{"pagination.current":function(){this.refetchCards()}}}),$=k,S=(a("cacf"),Object(r["a"])($,w,x,!1,null,null,null)),D=S.exports,T=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("br"),a("h4",{staticClass:"title is-4"},[t._v("添加卡片到 "+t._s(t.collection.name))]),a("b-button",{attrs:{type:"is-link"},on:{click:function(e){return t.queryWord(t.card.spell,"fr")}}},[t._v("法语查词")]),a("b-button",{attrs:{type:"is-link"},on:{click:function(e){return t.queryWord(t.card.spell,"en")}}},[t._v("英语查词")]),t.success?a("article",{staticClass:"message is-success"},[a("div",{staticClass:"message-body"},[a("p",[t._v("\n        单词\n        "),a("b",[t._v(t._s(t.success))]),t._v(" 添加成功!\n      ")])])]):t._e(),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("词性")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.card.pos,expression:"card.pos"}],staticClass:"input",attrs:{type:"text",placeholder:"Text input"},domProps:{value:t.card.pos},on:{input:function(e){e.target.composing||t.$set(t.card,"pos",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("拼写")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.card.spell,expression:"card.spell"}],staticClass:"input",attrs:{type:"text",placeholder:"Text input"},domProps:{value:t.card.spell},on:{input:function(e){e.target.composing||t.$set(t.card,"spell",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("释义")]),a("div",{staticClass:"control"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.card.translation,expression:"card.translation"}],staticClass:"textarea",attrs:{placeholder:"Textarea"},domProps:{value:t.card.translation},on:{input:function(e){e.target.composing||t.$set(t.card,"translation",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("附加信息")]),a("div",{staticClass:"control"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.card.addition,expression:"card.addition"}],staticClass:"textarea",attrs:{placeholder:"Textarea"},domProps:{value:t.card.addition},on:{input:function(e){e.target.composing||t.$set(t.card,"addition",e.target.value)}}})])]),a("div",{staticClass:"field is-grouped"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-link",on:{click:t.submit}},[t._v("提交")])]),a("div",{staticClass:"control"},[a("router-link",{attrs:{to:"/collections/"+t.collection.id}},[a("button",{staticClass:"button is-text"},[t._v("取消 / 返回")])])],1)])],1)},A=[],I={data:function(){return{updateMode:!1,collection:{},card:{pos:"",spell:"",translation:"",addition:""},success:""}},created:function(){var t=this;y.getCollection(this.$route.params.id,(function(e){t.collection=e}))},methods:{queryWord:function(t,e){var a=this;y.queryWord(t,e,(function(t){a.card.pos=t.pos,a.card.translation=t.translation,a.card.addition=t.addition}))},submit:function(){var t=this;y.addCard(this.$route.params.id,this.card,(function(e){console.log(e),t.success=e.spell,t.card={pos:"",spell:"",translation:"",addition:""}}))}}},P=I,N=Object(r["a"])(P,T,A,!1,null,null,null),E=N.exports,F=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("br"),a("h4",{staticClass:"title is-4"},[t._v("添加变位卡片到 "+t._s(t.collection.name))]),t.success?a("article",{staticClass:"message is-success"},[a("div",{staticClass:"message-body"},[a("p",[t._v("\n        单词\n        "),a("b",[t._v(t._s(t.success))]),t._v(" 添加成功!\n      ")])])]):t._e(),a("h4",{staticClass:"title is-5"},[t._v("基本")]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("原型 / 提示词")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.displacement.hint,expression:"displacement.hint"}],staticClass:"input",attrs:{type:"text",placeholder:"Text input"},domProps:{value:t.displacement.hint},on:{input:function(e){e.target.composing||t.$set(t.displacement,"hint",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("释义")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.displacement.translation,expression:"displacement.translation"}],staticClass:"input",attrs:{type:"text",placeholder:"Text input"},domProps:{value:t.displacement.translation},on:{input:function(e){e.target.composing||t.$set(t.displacement,"translation",e.target.value)}}})])]),a("br"),a("div",{staticClass:"control",staticStyle:{float:"right"}},[a("a",{staticClass:"button is-info is-small",staticStyle:{"border-radius":"0"},on:{click:function(e){t.autoFillIndicatifPrésent()}}},[t._v("自动填写法语直陈式现在时变位")]),a("a",{staticClass:"button is-primary is-small",staticStyle:{"border-radius":"0"},on:{click:function(e){return t.appendDisplacement()}}},[t._v("添加变位")]),a("a",{staticClass:"button is-danger is-small",staticStyle:{"border-radius":"0"},on:{click:function(e){return t.removeLastDisplacement()}}},[t._v("删除最末")])]),a("h4",{staticClass:"title is-5"},[t._v("变位列表")]),a("div",t._l(t.displacement.displacements,(function(e){return a("div",{key:e.key},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("label",{staticClass:"label"},[t._v("词性")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.pos,expression:"disp.pos"}],staticClass:"input",attrs:{type:"text",placeholder:"Text input"},domProps:{value:e.pos},on:{input:function(a){a.target.composing||t.$set(e,"pos",a.target.value)}}})])]),a("div",{staticClass:"column"},[a("label",{staticClass:"label"},[t._v("辅助文本")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.aux,expression:"disp.aux"}],staticClass:"input",attrs:{type:"text",placeholder:"Text input"},domProps:{value:e.aux},on:{input:function(a){a.target.composing||t.$set(e,"aux",a.target.value)}}})])]),a("div",{staticClass:"column"},[a("label",{staticClass:"label"},[t._v("答案")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.answer,expression:"disp.answer"}],staticClass:"input",attrs:{type:"text",placeholder:"Text input"},domProps:{value:e.answer},on:{input:function(a){a.target.composing||t.$set(e,"answer",a.target.value)}}})])])]),a("hr")])})),0),a("br"),a("div",{staticClass:"field is-grouped"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-link",on:{click:function(e){return t.submit()}}},[t._v("提交")])]),a("div",{staticClass:"control"},[a("router-link",{attrs:{to:"/collections/"+t.collection.id}},[a("button",{staticClass:"button is-text"},[t._v("取消 / 返回")])])],1)])])},M=[],j=(a("28a5"),a("ac6a"),function(){return{key:100*Math.random(),pos:"",aux:"",answer:""}}),O={data:function(){return{collection:{},displacement:{hint:"",translation:"",displacements:[]},success:""}},components:{DisplacementItemEdit:function(){return a.e("chunk-2d0e8872").then(a.bind(null,"8a3f"))}},created:function(){var t=this;y.getCollection(this.$route.params.id,(function(e){t.collection=e})),this.displacement.displacements.push(j())},methods:{submit:function(){var t=this;if(this.displacement.displacements=this.displacement.displacements.filter((function(t){return""!=t.aux})),0==this.displacement.displacements.length)return this.$buefy.toast.open("没有要提交的内容"),void this.reset();y.addDisplacements(this.$route.params.id,this.displacement,(function(){t.$buefy.toast.open({message:"变位卡片添加成功!",type:"is-success"}),t.reset()}))},reset:function(){this.displacement={hint:"",translation:"",displacements:[j()]}},"autoFillIndicatifPrésent":function(){var t=this,e=this;""!=this.displacement.hint?y.getFrenchConjungation(this.displacement.hint,(function(a){if(void 0==a.detail){var n=a.value.moods.indicatif.présent;e.displacement.translation=a.value.verb.translation_en,e.displacement.displacements=e.displacement.displacements.filter((function(t){return""!=t.pos||""!=t.aux||""!=t.answer})),n.forEach((function(t){var a=t.split(" ");e.displacement.displacements.push({key:100*Math.random(),pos:"v. indicatif présent",aux:a[0],answer:a[1]})})),e.submit()}else t.$buefy.toast.open({message:"变位错误!",type:"is-danger"})})):this.$buefy.toast.open({message:"请提供动词原形!",type:"is-warning"})},appendDisplacement:function(){this.displacement.displacements.push(j())},removeLastDisplacement:function(){this.displacement.displacements.pop()}}},L=O,G=Object(r["a"])(L,F,M,!1,null,null,null),q=G.exports,z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("br"),a("h4",{staticClass:"title is-4"},[t._v("编辑卡片")]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("词性")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.card.pos,expression:"card.pos"}],staticClass:"input",attrs:{type:"text",placeholder:"Text input"},domProps:{value:t.card.pos},on:{input:function(e){e.target.composing||t.$set(t.card,"pos",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("拼写")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.card.spell,expression:"card.spell"}],staticClass:"input",attrs:{type:"text",placeholder:"Text input"},domProps:{value:t.card.spell},on:{input:function(e){e.target.composing||t.$set(t.card,"spell",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("释义")]),a("div",{staticClass:"control"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.card.translation,expression:"card.translation"}],staticClass:"textarea",attrs:{placeholder:"Textarea"},domProps:{value:t.card.translation},on:{input:function(e){e.target.composing||t.$set(t.card,"translation",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("附加信息")]),a("div",{staticClass:"control"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.card.addition,expression:"card.addition"}],staticClass:"textarea",attrs:{placeholder:"Textarea"},domProps:{value:t.card.addition},on:{input:function(e){e.target.composing||t.$set(t.card,"addition",e.target.value)}}})])]),a("div",{staticClass:"field is-grouped"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-link",on:{click:t.submit}},[t._v("更新")])]),a("div",{staticClass:"control"},[a("button",{staticClass:"button is-text",on:{click:function(e){return t.back()}}},[t._v("取消 / 返回")])])])])},W=[],H={data:function(){return{card:{collection_id:0,pos:"",spell:"",translation:"",addition:""}}},created:function(){var t=this;y.getCard(this.$route.params.id,(function(e){t.card=e}))},methods:{submit:function(){var t=this;y.updateCard(this.card,(function(e){console.log(e),t.$buefy.toast.open("编辑成功"),t.$router.go(-1)}))},back:function(){this.$router.go(-1)}}},B=H,R=Object(r["a"])(B,z,W,!1,null,null,null),J=R.exports,U=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("br"),a("h4",{staticClass:"title is-4"},[t._v("编辑变位卡片")]),a("h4",{staticClass:"title is-5"},[t._v("基本")]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("原型 / 提示词")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.displacement.hint,expression:"displacement.hint"}],staticClass:"input",attrs:{type:"text",placeholder:"Text input"},domProps:{value:t.displacement.hint},on:{input:function(e){e.target.composing||t.$set(t.displacement,"hint",e.target.value)}}})])]),a("div",{staticClass:"field"},[a("label",{staticClass:"label"},[t._v("释义")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.displacement.translation,expression:"displacement.translation"}],staticClass:"input",attrs:{type:"text",placeholder:"Text input"},domProps:{value:t.displacement.translation},on:{input:function(e){e.target.composing||t.$set(t.displacement,"translation",e.target.value)}}})])]),a("br"),a("div",{staticClass:"control",staticStyle:{float:"right"}},[a("a",{staticClass:"button is-primary is-small",staticStyle:{"border-radius":"0"},on:{click:function(e){return t.appendDisplacement()}}},[t._v("添加变位")]),a("a",{staticClass:"button is-danger is-small",staticStyle:{"border-radius":"0"},on:{click:function(e){return t.removeLastDisplacement()}}},[t._v("删除最末")])]),a("h4",{staticClass:"title is-5"},[t._v("变位列表")]),a("div",t._l(t.displacement.displacements,(function(e){return a("div",{key:e.key},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column"},[a("label",{staticClass:"label"},[t._v("词性")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.pos,expression:"disp.pos"}],staticClass:"input",attrs:{type:"text",placeholder:"Text input"},domProps:{value:e.pos},on:{input:function(a){a.target.composing||t.$set(e,"pos",a.target.value)}}})])]),a("div",{staticClass:"column"},[a("label",{staticClass:"label"},[t._v("辅助文本")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.aux,expression:"disp.aux"}],staticClass:"input",attrs:{type:"text",placeholder:"Text input"},domProps:{value:e.aux},on:{input:function(a){a.target.composing||t.$set(e,"aux",a.target.value)}}})])]),a("div",{staticClass:"column"},[a("label",{staticClass:"label"},[t._v("答案")]),a("div",{staticClass:"control"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.answer,expression:"disp.answer"}],staticClass:"input",attrs:{type:"text",placeholder:"Text input"},domProps:{value:e.answer},on:{input:function(a){a.target.composing||t.$set(e,"answer",a.target.value)}}})])])]),a("hr")])})),0),a("br"),a("div",{staticClass:"field is-grouped"},[a("div",{staticClass:"control"},[a("button",{staticClass:"button is-link",on:{click:function(e){return t.submit()}}},[t._v("提交")])]),a("div",{staticClass:"control"},[a("router-link",{attrs:{to:"/"}},[a("button",{staticClass:"button is-text"},[t._v("取消 / 返回")])])],1)])])},K=[],Q=function(){return{key:100*Math.random(),pos:"",aux:"",answer:""}},V={data:function(){return{collection:{},displacement:{hint:"",translation:"",displacements:[]},success:""}},created:function(){var t=this;y.getDisplacements(this.$route.params.id,(function(e){console.log("get displacements: ",e),t.displacement=e}))},methods:{submit:function(){var t=this;this.displacement.displacements=this.displacement.displacements.filter((function(t){return""!=t.aux})),0!=this.displacement.displacements.length?y.updateDisplacements(this.$route.params.id,this.displacement,(function(){t.$buefy.toast.open({message:"变位卡片更新成功!",type:"is-success"}),console.log("updateDisplacements")})):this.$buefy.toast.open("没有要提交的内容")},appendDisplacement:function(){this.displacement.displacements.push(Q())},removeLastDisplacement:function(){var t=this.displacement.displacements.pop();void 0!=t.id&&y.removeDisplacementItem(t.id)}}},X=V,Y=Object(r["a"])(X,U,K,!1,null,null,null),Z=Y.exports,tt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-one-quarter"},[a("MainMenu",{attrs:{index:0}})],1),a("div",{staticClass:"column"},[a("br"),a("h4",{staticClass:"title is-4"},[t._v("今日记忆任务")]),t._m(0),a("h4",{staticClass:"title is-4"},[t._v("卡片集合")]),a("nav",{staticClass:"panel"},t._l(t.collections,(function(e){return a("router-link",{key:e.id,staticClass:"panel-block is-active",attrs:{to:"/collections/"+e.id,data:e}},[a("span",{staticClass:"panel-icon"},[a("i",{staticClass:"fa fa-book",attrs:{"aria-hidden":"true"}})]),t._v("\n          "+t._s(e.name)+"\n        ")])})),1),a("div",{staticClass:"field has-addons"},[a("p",{staticClass:"control is-expanded"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.newCollectionName,expression:"newCollectionName"}],staticClass:"input",attrs:{type:"text",placeholder:"新增一个卡片集合"},domProps:{value:t.newCollectionName},on:{input:function(e){e.target.composing||(t.newCollectionName=e.target.value)}}})]),a("p",{staticClass:"control"},[a("a",{staticClass:"button is-primary",on:{click:function(e){return e.preventDefault(),t.onNewCollectionClicked()}}},[t._v("新增")])])])])])])},et=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",{staticClass:"panel"},[a("a",{staticClass:"panel-block is-active"},[a("span",{staticClass:"panel-icon"},[a("i",{staticClass:"fa fa-book",attrs:{"aria-hidden":"true"}})]),t._v("\n          法语 - 未完成\n        ")])])}],at=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("b-menu",[a("b-menu-list",{attrs:{label:"菜单"}},[a("b-menu-item",{attrs:{"icon-pack":"fa",active:0==t.index,icon:"home",label:"首页"},on:{click:function(e){return t.goTo("/")}}}),a("b-menu-item",{attrs:{"icon-pack":"fa",active:1==t.index,icon:"clock-o",label:"打卡"},on:{click:function(e){return t.goTo("/clockin")}}}),a("b-menu-item",{attrs:{"icon-pack":"fa",active:9==t.index,icon:"sliders",label:"设置"},on:{click:function(e){return t.goTo("/settings")}}})],1),a("b-menu-list",{attrs:{label:"Actions"}},[a("b-menu-item",{attrs:{label:"Logout"}})],1)],1)},nt=[],it={props:{index:0},methods:{goTo:function(t){this.$router.push(t).catch((function(t){}))}}},st=it,ot=Object(r["a"])(st,at,nt,!1,null,null,null),ct=ot.exports,lt={data:function(){return{message:"Hello",newCollectionName:""}},components:{MainMenu:ct},created:function(){console.log("HomePage Created"),this.$root.$store.commit("updateCollections")},computed:{collections:function(){return this.$root.$store.state.collections}},methods:{onNewCollectionClicked:function(){var t=this;if(""!=this.newCollectionName){var e=t.$root.$store.state.collections;e.push({id:e[e.length-1].id+1,name:this.newCollectionName}),y.addCollection(this.newCollectionName,(function(){console.log("add collection: "+t.newCollectionName)})),this.newCollectionName=""}else alert("无效的名称!")},toSettingsPage:function(){this.$router.push("/settings")}}},rt=lt,dt=Object(r["a"])(rt,tt,et,!1,null,null,null),ut=dt.exports,pt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-one-quarter"},[a("MainMenu",{attrs:{index:9}})],1),a("div",{staticClass:"column"},[a("br"),a("h3",{staticClass:"title is-3"},[t._v("学习设置")]),a("section",[a("b-field",{attrs:{label:"每组学习量"}},[a("b-numberinput",{attrs:{min:"1",max:"50"},model:{value:t.perGroupAmount,callback:function(e){t.perGroupAmount=e},expression:"perGroupAmount"}})],1),a("b-field",{attrs:{label:"Age"}},[a("b-numberinput",{attrs:{min:"18"}})],1)],1)])])])},mt=[],vt={data:function(){return{perGroupAmount:10}},components:{MainMenu:ct},created:function(){this.perGroupAmount=parseInt(localStorage.getItem("perGroupAmount"))||10},watch:{perGroupAmount:function(t){localStorage.setItem("perGroupAmount",t),console.log("saved")}},methods:{toHomePage:function(){this.$router.push("/")}}},ft=vt,ht=Object(r["a"])(ft,pt,mt,!1,null,null,null),gt=ht.exports,Ct=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"columns"},[a("div",{staticClass:"column is-one-quarter"},[a("MainMenu",{attrs:{index:1}})],1),a("div",{staticClass:"column"},[a("br"),a("h3",{staticClass:"title is-3"},[t._v("打卡 & 统计")]),a("div",{staticClass:"tile"},[a("div",{staticClass:"tile is-parent is-vertical"},[a("article",{staticClass:"tile is-child notification is-primary"},[a("p",{staticClass:"title"},[t._v("学习")]),a("p",{staticClass:"subtitle"},[t._v(t._s(t.status.touched_words)+" 张卡片")])]),a("article",{staticClass:"tile is-child notification is-warning"},[a("p",{staticClass:"title"},[t._v("熟悉")]),a("p",{staticClass:"subtitle"},[t._v(t._s(t.status.passed_words)+" 张卡片")])])]),a("div",{staticClass:"tile is-parent"},[a("article",{staticClass:"tile is-child notification is-info"},[a("p",{staticClass:"title"},[t._v("学习时长")]),a("p",{staticClass:"subtitle"},[t._v(t._s(Math.ceil(t.status.learning_time/60))+" 分钟")]),t._m(0)])])]),a("br"),a("section",[a("b-button",{attrs:{type:"is-dark"},on:{click:function(e){return t.clockIn()}}},[t._v("打卡")])],1)])])])},bt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("figure",{staticClass:"image is-4by3"},[a("img",{attrs:{src:"https://bulma.io/images/placeholders/640x480.png"}})])}],_t={data:function(){return{status:{},perGroupAmount:10}},components:{MainMenu:ct},created:function(){var t=this;this.perGroupAmount=parseInt(localStorage.getItem("perGroupAmount"))||10,y.getStatusToday((function(e){t.status=e}))},watch:{perGroupAmount:function(t){localStorage.setItem("perGroupAmount",t),console.log("saved")}},methods:{clockIn:function(){y.clockIn((function(){window.open(y.clockInImageUrl,"_blank")}))},toHomePage:function(){this.$router.push("/")},getStatusToday:function(){var t=this;y.getStatusToday((function(e){return t.status=e}))}}},yt=_t,wt=Object(r["a"])(yt,Ct,bt,!1,null,null,null),xt=wt.exports,kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",staticStyle:{height:"100%"}},[1==t.mode?a("SpellInputPage",{key:"1",attrs:{card:t.current,correctCallback:t.onAnswerCorrect,wrongCallback:t.onAnswerWrong,forgetCallback:t.onForget}}):t._e(),2==t.mode?a("CardExpositionPage",{key:"2",attrs:{card:t.current,editAdditionCallback:t.onEditAddition,continueClickCallback:t.onContinue,skipCallback:t.onSkip}}):t._e()],1)},$t=[],St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card memori-card"},[a("br"),a("h3",{staticClass:"title is-3 word"},[t._v(t._s(t.card.translation))]),a("div",{staticClass:"card-center"},[t._v("请根据中文拼写单词")]),a("table",{staticStyle:{"table-layout":"fixed",flex:"0 1 40px"},attrs:{width:"100%"}},[a("tr",[a("td",{attrs:{colspan:"2"}},[a("b-field",{staticStyle:{"padding-bottom":"1em"}},[a("b-input",{ref:"spellInput",nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit(e)}},model:{value:t.status.myAnswer,callback:function(e){t.$set(t.status,"myAnswer",e)},expression:"status.myAnswer"}})],1)],1)]),a("tr",[a("td",{staticStyle:{"padding-right":".3em"}},[a("b-button",{staticStyle:{width:"100%"},attrs:{type:"is-light"},on:{click:function(e){return t.forget()}}},[t._v("想不起来")])],1),a("td",{staticStyle:{"padding-left":".3em"}},[a("b-button",{staticStyle:{width:"100%"},attrs:{type:"is-success"},on:{click:function(e){return t.submit()}}},[t._v("提交答案")])],1)])])])},Dt=[],Tt={props:{card:{},correctCallback:Function,wrongCallback:Function,forgetCallback:Function},created:function(){var t=this;this.$nextTick((function(){t.$refs.spellInput.focus(),console.log("focus")}))},mounted:function(){window.addEventListener("keydown",this.shortcut)},destroyed:function(){window.removeEventListener("keydown",this.shortcut)},methods:{shortcut:function(t){112==t.keyCode&&(this.forget(),t.preventDefault()),113==t.keyCode&&(this.submit(),t.preventDefault())},forget:function(){this.forgetCallback(),console.log("forget")},submit:function(){this.status.myAnswer.trim().toLowerCase()==this.card.spell.trim().toLowerCase()?this.correctCallback():this.wrongCallback(),console.log("emit")}},data:function(){return{status:{myAnswer:""}}}},At=Tt,It=(a("a946"),Object(r["a"])(At,St,Dt,!1,null,null,null)),Pt=It.exports,Nt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"card memori-card",on:{keyup:function(e){return e.type.indexOf("key")||68===e.keyCode?t.continueClick():null}}},[a("br"),a("h3",{staticClass:"title is-2",staticStyle:{"font-family":"'Merriweather', serif","text-align":"center"}},[t._v(t._s(t.card.spell))]),a("br"),a("b-message",{attrs:{title:"释义",type:"is-info",closable:!1}},[a("p",[t._v(t._s(t.card.pos))]),a("p",{staticStyle:{"text-indent":"2em"}},[t._v(t._s(t.card.translation))]),a("router-link",{staticClass:"button",attrs:{to:"/cards/"+t.card.id+"/edit"}},[t._v("编辑卡片")]),a("b-button",{on:{click:function(e){return t.deactivateThis()}}},[t._v("禁用此卡片")])],1),a("b-message",{staticClass:"card-center",attrs:{title:"笔记",closable:!1}},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.editMode,expression:"editMode"}]},[a("b-field",{attrs:{label:""}},[a("b-input",{attrs:{maxlength:"20000",type:"textarea"},model:{value:t.card.addition,callback:function(e){t.$set(t.card,"addition",e)},expression:"card.addition"}})],1),a("b-button",{staticClass:"is-pulled-right",attrs:{rounded:""},on:{click:function(e){return t.onSaveNotes()}}},[t._v("保存")])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.editMode,expression:"!editMode"}],staticStyle:{"min-height":"20px"},attrs:{id:"notes"},on:{click:function(e){t.editMode=!0}}},[a("div",{directives:[{name:"show",rawName:"v-show",value:""!=t.card.addition,expression:"card.addition!=''"}],attrs:{id:"note-content"}}),a("div",{directives:[{name:"show",rawName:"v-show",value:""==t.card.addition,expression:"card.addition==''"}]},[t._v("暂无内容")]),a("hr"),a("div",{attrs:{id:"etymology"}})])]),a("b-button",{staticStyle:{width:"100%"},attrs:{type:"is-primary"},on:{click:function(e){return t.continueClick()}}},[t._v("继续")])],1)},Et=[],Ft={data:function(){return{editMode:!1}},props:{card:{},etymology:"",editAdditionCallback:Function,continueClickCallback:Function,skipCallback:Function},watch:{},mounted:function(){var t=this;this.renderAddition(),window.addEventListener("keydown",this.shortcut),console.log("etymology:"),55!=this.card.collection_id&&y.getEtymology(this.card.spell,(function(e){var a=t.$el.querySelector("#etymology");a.innerHTML=e}))},destroyed:function(){window.removeEventListener("keydown",this.shortcut),console.log("removed")},methods:{deactivateThis:function(){var t=this;y.setCardActivation(this.card.id,0,(function(){console.log("卡片禁用"),t.skipCallback()}))},shortcut:function(t){68==t.keyCode&&this.continueClickCallback()},continueClick:function(){this.continueClickCallback()},renderAddition:function(){this.editMode=!1;var t=this.$el.querySelector("#note-content"),e=a("339e"),n=new e.Converter,i=n.makeHtml(this.card.addition);t.innerHTML=i,console.log("addition rendered")},onSaveNotes:function(){this.renderAddition(),this.editAdditionCallback(this.card.addition)}}},Mt=Ft,jt=(a("eb5c"),Object(r["a"])(Mt,Nt,Et,!1,null,null,null)),Ot=jt.exports,Lt={components:{SpellInputPage:Pt,CardExpositionPage:Ot},data:function(){return{current:{},mode:0,learned:0,total:localStorage.getItem("perGroupAmount"),answerCorrect:null}},created:function(){this.getCardToLearn()},mounted:function(){console.log("learning page mounted"),n=setInterval(this.heartBeat,5e3)},destroyed:function(){console.log("learning page destroyed"),clearInterval(n)},methods:{heartBeat:function(){console.log("tick"),void 0!=this.current.id&&y.heartBeat(this.current.collection_id,this.current.id)},onSkip:function(){this.reset()},onContinue:function(){var t=this;console.log("on continue"),this.answerCorrect?this.current.mastery++:this.current.mastery=0,console.log("mastery of "+this.current.spell+" : "+this.current.mastery),y.syncCard(this.current,(function(){t.reset()}))},onEditAddition:function(t){console.log("edit it!",t),this.current.addition=t},getCardToLearn:function(){var t=this;y.getCardsToLearn(this.$route.params.id,1,(function(e){t.cards=e,e.length>0?(t.current=e[0],console.log("Current Card: ",e[0]),t.mode=1):(t.$buefy.toast.open({message:"没有需要学习的卡片~",type:"is-info"}),t.$router.go(-1))}))},onAnswerCorrect:function(){console.log("onAnswerCorrect"),this.$buefy.toast.open({message:"回答正确~",type:"is-success",position:"is-bottom-right"}),this.answerCorrect=!0,this.mode=2},onAnswerWrong:function(){console.log("onAnswerWrong"),this.$buefy.toast.open({message:"回答错误 qwq",position:"is-bottom-right",type:"is-danger"}),this.answerCorrect=!1,this.mode=2},onForget:function(){this.answerCorrect=!1,this.mode=2},reset:function(){this.mode=0,this.getCardToLearn(),this.answerCorrect=null}}},Gt=Lt,qt=(a("181b"),Object(r["a"])(Gt,kt,$t,!1,null,null,null)),zt=qt.exports,Wt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div")},Ht=[],Bt={},Rt=Bt,Jt=Object(r["a"])(Rt,Wt,Ht,!1,null,null,null),Ut=(Jt.exports,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("批量导入")]),a("b-input",{attrs:{type:"textarea"}})],1)}),Kt=[],Qt=a("6177"),Vt={app_id:"70c0b880",app_key:"c6a1dc956014b2d59d0bbfd11747d9e6",source_lang:"en"},Xt=new Qt(Vt),Yt={created:function(){this.onImport()},methods:{onImport:function(){var t=Xt.find("awesome");t.then((function(t){console.log(JSON.stringify(t,null,4))}),(function(t){console.log(t)}))}}},Zt=Yt,te=Object(r["a"])(Zt,Ut,Kt,!1,null,null,null),ee=te.exports,ae=new m["a"]({routes:[{path:"/",component:ut},{path:"/collections/:id",component:D},{path:"/settings",component:gt},{path:"/clockin",component:xt},{path:"/collections/:id/add",component:E},{path:"/collections/:id/displacements/add",component:q},{path:"/cards/:id/edit",component:J},{path:"/displacements/:id/edit",component:Z},{path:"/collections/:id/learn",component:zt},{path:"/collections/:id/import",component:ee}]}),ne=ae;i["a"].use(p["a"]),i["a"].use(m["a"]),i["a"].use(v["a"]),i["a"].directive("focus",{inserted:function(t){t.focus()}});var ie=new v["a"].Store({state:{collections:[]},mutations:{updateCollections:function(t,e){y.getCollections((function(a){i["a"].set(t,"collections",a),console.log("updateCollections flushed"),null!=e&&(e(),console.log("updateCollections callback called"))}))}}});i["a"].config.productionTip=!1,new i["a"]({render:function(t){return t(u)},store:ie,router:ne}).$mount("#app")},"64a9":function(t,e,a){},"693e":function(t,e,a){},"8c65":function(t,e,a){},a946:function(t,e,a){"use strict";var n=a("16ba"),i=a.n(n);i.a},b071:function(t,e,a){},cacf:function(t,e,a){"use strict";var n=a("b071"),i=a.n(n);i.a},d498:function(t,e,a){},eb5c:function(t,e,a){"use strict";var n=a("8c65"),i=a.n(n);i.a}});
//# sourceMappingURL=app.05bd4ebc.js.map